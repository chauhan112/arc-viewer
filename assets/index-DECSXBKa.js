var x=Object.defineProperty;var k=(i,t,e)=>t in i?x(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var r=(i,t,e)=>k(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();class y{constructor(){r(this,"handlers",{});r(this,"s",{});r(this,"props",{});r(this,"typ","div");r(this,"component",null)}updateProp(t,e){if(this.component||this.getElement(),t==="textContent")this.component.textContent=e;else if(t==="innerHTML")this.component.innerHTML=e;else if(t==="children")for(let s of e)this.updateChild(s);else{if(t==="key")return;if(t==="child"){this.updateChild(e);return}else if(t==="style")for(let s in e)this.component.style.setProperty(s,e[s]);else this.component.setAttribute(t,e)}}updateChild(t){if(t instanceof Text){this.component.appendChild(t);return}t.getProps().key&&(this.s[t.getProps().key]=t),this.component.appendChild(t.getElement()),t.s.parent=this}update(t,e,s){var o;for(let n in t)this.props[n]=t[n],this.updateProp(n,t[n]);for(let n in s)this.s[n]=s[n];for(let n in e)this.handlers.hasOwnProperty(n)&&((o=this.component)==null||o.removeEventListener(n,this.handlers[n])),this.addHandler(n,e[n])}addHandler(t,e){var o;const s=n=>e(n,this);(o=this.component)==null||o.addEventListener(t,s),this.handlers[t]=s}updateState(t,e){for(let s in t)this.updateProp(s,t[s]);for(let s in e)this.addHandler(s,e[s])}getElement(){return this.component||(this.component=document.createElement(this.typ),this.updateState(this.props,this.handlers)),this.component}getProps(){return this.props}}class v{constructor(t="div"){r(this,"s",{});r(this,"comp",new y);this.comp.typ=t}getProps(){return this.comp.getProps()}getElement(){return this.comp.getElement()}display(t){this.comp.update({child:t})}clear(){this.comp.update({innerHTML:""})}}class C{constructor(){r(this,"s",{});r(this,"comp",null);r(this,"itemComp",{})}getElement(){return this.comp||(this.comp=c.comp("div")),this.comp.getElement()}setData(t){this.s.data=t,this.itemComp={};let e=[];for(let s in t){let o=t[s];e.push(o),this.itemComp[s]=o}this.getElement(),this.comp.update({children:e})}getProps(){return this.comp.getProps()}}class P{constructor(){r(this,"s",{});r(this,"comp",null);this.s.conditions=[],this.s.defaultValue=null}setValue(t){this.s.value=t,this.comp.update({innerHTML:""});for(const e of this.s.conditions)if(e.func(t)){e.comp&&this.comp.update({child:e.comp});break}}setConditions(t){this.s.conditions=t}getElement(){return this.comp||(this.comp=c.div(),this.setValue(this.s.defaultValue)),this.comp.getElement()}display(t){this.comp.update({innerHTML:"",child:t})}clear(){this.comp.update({innerHTML:""})}getProps(){return this.comp.getProps()}}/**
 * @license lucide v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=([i,t,e])=>{const s=document.createElementNS("http://www.w3.org/2000/svg",i);return Object.keys(t).forEach(o=>{s.setAttribute(o,String(t[o]))}),e!=null&&e.length&&e.forEach(o=>{const n=w(o);s.appendChild(n)}),s},O=(i,t={})=>{const e="svg",s={...S,...t};return w([e,s,i])};class L{constructor(t){r(this,"handlers",{});r(this,"s",{});r(this,"props",{});r(this,"icon");r(this,"component",null);this.icon=t}updateProp(t,e){if(this.component){if(t==="textContent"){this.component.textContent=e;return}this.component.setAttribute(t,e)}}update(t,e,s){var o;this.component&&this.getElement();for(let n in t)this.props[n]=t[n],this.component&&this.updateProp(n,t[n]);for(let n in s)this.s[n]=s[n];for(let n in e)this.component?(this.handlers.hasOwnProperty(n)&&((o=this.component)==null||o.removeEventListener(n,this.handlers[n])),this.addHandler(n,e[n])):this.handlers[n]=e[n]}addHandler(t,e){var o;const s=n=>e(n,this);(o=this.component)==null||o.addEventListener(t,s),this.handlers[t]=s}updateState(t,e){for(let s in t)this.updateProp(s,t[s]);for(let s in e)this.addHandler(s,e[s])}getElement(){return this.component||(this.component=O(this.icon),this.updateState(this.props,this.handlers)),this.component}getProps(){return this.props}}class M{constructor(t,e="input"){r(this,"comp");r(this,"s",{});r(this,"typ");this.typ=e,this.comp=c.comp(this.typ,{...t})}getElement(){return this.comp.getElement()}getProps(){return this.comp.getProps()}get(){return this.comp.getElement().value}set(t){const e=this.comp.getElement();e.value=t}clear(){this.set("")}}class T{constructor(t=[],e,s={}){r(this,"s",{});r(this,"comp",null);r(this,"options",{});this.s.options=t,this.s.selectProps=s,this.s.defValue=e,this.s.funcs={makeOption:this.makeOption.bind(this)},e&&this.set(e)}setOptions(t){this.s.options=t,this.options={},this.comp.update({innerHTML:"",children:this.s.options.map(e=>{const s=this.s.funcs.makeOption(e);return e.value&&(this.options[e.value]=s),s})})}getElement(){return this.comp?this.comp.getElement():(this.comp=c.comp("select",{class:"w-full p-1 rounded-sm bg-gray-100 text-black border border-gray-300 transition-all duration-300",...this.s.selectProps,children:this.s.options.map(t=>{const e=this.s.funcs.makeOption(t);return t.value&&(this.options[t.value]=e),e})}),this.comp.getElement())}getProps(){return this.comp.getProps()}get(){return this.getElement().value}set(t){const e=this.getElement();e.value=t}clear(){this.s.defValue?this.set(this.s.defValue):this.s.options[0]&&this.set(this.s.options[0].value)}makeOption(t){return c.comp("option",t)}}class H{constructor(t=[],e,s){r(this,"s",{});r(this,"comp",null);r(this,"options",{});this.s.options=t,this.s.placeholder=s||"Select options...",this.s.selectedItems=[],this.s.funcs={makeOption:this.makeOption.bind(this)},e&&this.set(e)}getElement(){if(this.comp)return this.comp.getElement();this.comp=c.div({class:"relative",children:[c.comp("button",{key:"selectButton",textContent:this.s.placeholder,class:"w-full px-4 py-2 text-left bg-white text-gray-800 border-b-2 border-gray-400 rounded-none focus:outline-none focus:border-black transition-colors"},{click:(s,o)=>{s.preventDefault(),this.s.comps.dropdownMenu.getElement().classList.toggle("hidden")}}),c.div({key:"dropdownMenu",class:"absolute w-full bg-white border-b-2 border-gray-400 rounded-none shadow-md max-h-60 overflow-y-auto z-10 hidden",children:this.s.options.map(s=>{let o=this.s.funcs.makeOption(s);return this.options[s.value]=o,o})})]}),this.comp.getElement();const t=this.comp.s.selectButton,e=this.comp.s.dropdownMenu;return this.s.comps={selectButton:t,dropdownMenu:e},this.comp.getElement()}makeOption(t){return c.comp("label",{class:"flex items-center px-4 py-2 hover:border-l-2 hover:border-gray-600 cursor-pointer text-gray-700",children:[c.comp("input",{key:"checkbox",type:"checkbox",class:"w-4 h-4 text-black border-gray-400 rounded-none focus:ring-0",value:t.value},{change:(e,s)=>{this.updateBtnText()}},{data:t}),c.comp("span",{class:"ml-2",textContent:t.textContent})]})}updateBtnText(){this.s.selectedItems=[];for(const s in this.options)this.options[s].s.checkbox.component.checked&&this.s.selectedItems.push(this.options[s].s.checkbox.s.data);let t="";const e=this.s.selectedItems.map(s=>s.textContent);e.length===0?t="Select options":e.length<=2?t=e.join(", "):t=`${e.length} options selected`,this.s.comps.selectButton.update({textContent:t})}setOptions(t){this.s.options=t,this.options={},this.s.comps.dropdownMenu.update({innerHTML:"",children:this.s.options.map(e=>{let s=this.s.funcs.makeOption(e);return this.options[e.value]=s,s})})}getProps(){return this.comp.getProps()}get(){return this.s.selectedItems}set(t){this.s.selectedItems=t;for(const e in this.options)this.options[e].s.checkbox.component.checked=!1;for(const e of t)this.options[e.value].s.checkbox.component.checked=!0;this.updateBtnText()}clear(){this.set([])}}class c{static comp(t,e,s,o){const n=new y;return n.typ=t,n.update(e,s,o),n}static rep(t){let e=new C;return e.setData(t),e}static div(t,e,s){return c.comp("div",t,e,s)}static icon(t,e={},s={},o={}){let n=new L(t);return n.update(e,s,o),n}static ifComp(t,e=null,s){let o=new P;return o.s.defaultValue=e,o.setConditions(t),o.getElement(),o.comp.update(s),o}static container(t,e,s="div"){let o=new v(s);return o.comp.update(t,e),o}static input(t,e="input"){return new M(t,e)}static dropdown(t,e,s={}){let o=new T(t,e,s);return o.getElement(),o}static multiSelect(t,e){let s=new H(t,void 0,e);return s.getElement(),s}}class F{constructor(){r(this,"data");this.data=this.readFormStorage()}addEntry(t,e){let s=this.data;for(let o=0;o<t.length;o++){let n=t[o];if(!s.hasOwnProperty(n)){let l;l={},o==t.length-1&&(l=e),s[n]=l}s=s[n]}this.writeToStorage()}deleteEntry(t){let e=t.slice(0,t.length-1),s=this.readEntry(e),o=t[t.length-1];delete s[o],this.writeToStorage()}updateEntry(t,e){if(t.length==0)return;let s=[...t],o=s.pop(),n=this.readEntry(s);n[o]=e,this.writeToStorage()}readEntry(t){let e=this.data;for(let s of t){if(!e.hasOwnProperty(s))throw new Error("Key does not exist");e=e[s]}return e}readFormStorage(){return{}}writeToStorage(){}get_keys(t){return Object.keys(this.readEntry(t))}exists(t){try{return this.readEntry(t),!0}catch{return!1}}}class A extends F{constructor(e){super();r(this,"key");r(this,"data");this.key=e||"LocalStorageModel",this.data=this.readFormStorage()}readFormStorage(){let e=localStorage.getItem(this.key);return e?JSON.parse(e):{}}writeToStorage(){localStorage.setItem(this.key,JSON.stringify(this.data))}}const I=()=>{const i=c.comp("textarea",{class:"w-full h-48 border-2 border-black shadow-lg p-2",placeholder:"Input area"}),t=c.comp("div",{class:"border-2 border-black shadow-lg items-center justify-center"}),e=c.comp("button",{class:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded cursor-pointer",textContent:"Visualize"});return c.comp("div",{class:"w-full items-center justify-center flex gap-4 mt-4 flex-wrap",children:[c.comp("div",{class:"flex flex-col gap-2 max-w-2/3",children:[i,e]}),t]},{},{viewContainer:t,btn:e,inpArea:i})},D=()=>{let i=I(),t=new A("arc-view");const e={0:"bg-black",1:"bg-[#1E93FF]",2:"bg-[#F93C31]",3:"bg-[#4FCC30]",4:"bg-[#FFDC00]",5:"bg-[#999999]",6:"bg-[#E53AA3]",7:"bg-[#FF851B]",8:"bg-[#87D8F1]",9:"bg-[#921231]"};function s(n){const l=n.length,p=n[0]?n[0].length:0;let b=window.innerHeight-100;const u=`${Math.round(b/l)}px`;let m=[];n.forEach(E=>{E.forEach(h=>{const d=c.div({class:"GridCell border border-gray-700 flex items-center justify-center text-white",child:c.comp("span",{textContent:h.toString(),class:"hidden GridCellValue"})}),g=e[h];g?d.getElement().classList.add(g):(console.warn(`Unknown color code: ${h}. Defaulting to black.`),d.getElement().classList.add("bg-black")),m.push(d)})});const a=c.div({class:"grid",children:m});return a.getElement().style.gridTemplateColumns=`repeat(${p}, ${u})`,a.getElement().style.gridAutoRows=u,a}return(()=>{if(t.exists(["gridData"])){const n=t.readEntry(["gridData"]);n&&(i.s.inpArea.getElement().value=n)}else{const n=JSON.stringify([[0,6,8,8,8,4],[6,4,6,4,6,4],[8,4,6,8,8,8],[6,4,6,4,6,4],[8,6,8,8,8,4]]);i.s.inpArea.getElement().value=n,t.addEntry(["gridData"],n)}})(),i.s.btn.update({},{click:()=>{let n=i.s.inpArea.getElement().value;const l=JSON.parse(n||"[]"),p=s(l);i.s.viewContainer.update({innerHTML:"",child:p}),t.updateEntry(["gridData"],n)}}),{comp:i,colorMap:e,drawGrid:s}};let B=D();var f;(f=document.querySelector("#app"))==null||f.appendChild(B.comp.getElement());
